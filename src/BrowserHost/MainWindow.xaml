<Window x:Class="BrowserHost.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:wpf="clr-namespace:CefSharp.Wpf;assembly=CefSharp.Wpf"
        xmlns:conv="clr-namespace:BrowserHost.Converter"
        Background="Transparent"
        WindowState="Normal">
    <Window.Resources>
        <conv:BorderClipConverter x:Key="BorderClipConverter" />
    </Window.Resources>
    <Border x:Name="ResizeBorder"  CornerRadius="8" Background="#01000000" SnapsToDevicePixels="True" Padding="4">
        <Border x:Name="WindowBorder" CornerRadius="8" Background="#202634" BorderThickness="1" BorderBrush="#404654">
            <Grid x:Name="RootGrid">
                <Grid.OpacityMask>
                    <VisualBrush Visual="{Binding ElementName=WebContentBorder}" />
                </Grid.OpacityMask>
                <wpf:ChromiumWebBrowser x:Name="ChromeUI" />
                <Grid Margin="0,45,8,8">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="300" MinWidth="200" />
                        <ColumnDefinition Width="5" />
                        <ColumnDefinition Width="*" MinWidth="200" />
                    </Grid.ColumnDefinitions>
                    <wpf:ChromiumWebBrowser x:Name="Tabs" Grid.Column="0" />
                    <GridSplitter Grid.Column="1" Width="5" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Background="Transparent" ResizeBehavior="PreviousAndNext" ResizeDirection="Columns" ShowsPreview="True"/>
                    <Border x:Name="WebContentBorder" Grid.Column="2" CornerRadius="8" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Background="DarkSlateGray">
                        <Border.Clip>
                            <MultiBinding Converter="{StaticResource BorderClipConverter}">
                                <Binding Path="ActualWidth" RelativeSource="{RelativeSource Self}"/>
                                <Binding Path="ActualHeight" RelativeSource="{RelativeSource Self}"/>
                                <Binding Path="CornerRadius" RelativeSource="{RelativeSource Self}"/>
                            </MultiBinding>
                        </Border.Clip>
                    </Border>
                </Grid>
                <wpf:ChromiumWebBrowser x:Name="ActionDialog" Visibility="Hidden" />
            </Grid>
        </Border>
    </Border>
</Window>
